<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Special Raksha Bandhan Message</title>
    <style>
        /* --- Google Font --- */
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');

        /* --- Basic Reset & Setup --- */
        :root {
            --neon-magenta: #ff00ff;
            --neon-cyan: #00ffff;
            --neon-gold: #ffd700;
            --deep-violet: #1a0033;
            --dark-navy: #0d001a;
            --whatsapp-green: #25D366;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            height: 100%;
            width: 100%;
            overflow: hidden;
            font-family: 'Poppins', sans-serif;
            background-color: var(--dark-navy);
            color: #fff;
        }

        /* --- Full-Screen Containers --- */
        .screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            transition: opacity 1s ease-in-out;
            z-index: 10;
        }

        /* --- Landing Screen Styles --- */
        #landing-screen {
            background: linear-gradient(45deg, #ff00ff, #00ffff, #ffeb3b, #ff0000, #00ff00, #ff00ff);
            background-size: 400% 400%;
            animation: rainbowGradient 15s ease infinite;
            z-index: 20;
        }

        #landing-screen h1 {
            font-size: clamp(2rem, 8vw, 4rem);
            font-weight: 600;
            color: white;
            text-shadow: 0 0 10px rgba(0,0,0,0.5);
            animation: zoomInOut 4s ease-in-out infinite;
            padding: 0 20px;
        }

        #reveal-button {
            margin-top: 30px;
            padding: 15px 30px;
            font-size: clamp(1rem, 4vw, 1.5rem);
            font-weight: 600;
            color: white;
            background-color: transparent;
            border: 2px solid white;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 0 15px var(--neon-cyan), 0 0 30px var(--neon-cyan) inset;
        }

        #reveal-button:hover {
            background-color: white;
            color: black;
            box-shadow: 0 0 25px var(--neon-magenta), 0 0 50px var(--neon-magenta) inset;
        }

        /* --- Main Celebration Screen Styles --- */
        #main-screen {
            background: linear-gradient(135deg, var(--deep-violet), var(--dark-navy));
            opacity: 0;
            visibility: hidden;
            z-index: 10;
            padding: 20px;
            justify-content: space-evenly;
        }

        .hidden {
            opacity: 0 !important;
            visibility: hidden !important;
            pointer-events: none;
        }

        /* Festive Header */
        .festive-header {
            position: relative;
            padding: 10px 20px;
            margin-bottom: 5px;
        }

        .festive-header::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: linear-gradient(90deg, var(--neon-magenta), var(--neon-cyan));
            filter: blur(20px);
            animation: glowRotate 5s linear infinite;
            z-index: -1;
            opacity: 0.8;
        }
        
        #main-title {
            font-size: clamp(2rem, 7vw, 3.5rem);
            font-weight: 700;
            background: linear-gradient(90deg, var(--neon-magenta), var(--neon-cyan), var(--neon-gold), var(--neon-magenta));
            background-size: 200% 200%;
            color: transparent;
            -webkit-background-clip: text;
            background-clip: text;
            animation: discoLights 4s linear infinite, blinkLight 2s infinite;
        }

        /* Rakhi Image */
        #rakhi-image {
            max-width: 80%;
            width: 150px; /* Base size */
            height: auto;
            border-radius: 15px;
            animation: pulse 3s infinite ease-in-out, gradientShadow 6s infinite linear;
        }

        /* Greeting Message */
        .greeting-container {
            position: relative;
            padding: 15px;
            margin-top: 15px;
            background-color: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
        }
        .greeting-container::before {
             content: '';
            position: absolute;
            inset: -2px;
            border-radius: 12px;
            background: linear-gradient(120deg, var(--neon-gold), transparent);
            filter: blur(10px);
            z-index: -1;
        }


        #greeting-message {
            font-size: clamp(1rem, 4vw, 1.5rem);
            font-weight: 400;
            word-wrap: break-word;
        }

        #name-display {
            font-weight: 700;
            animation: colorChangeGlow 4s infinite linear, zoomInOut 3s infinite ease-in-out, blinkLight 2.5s infinite;
        }

        /* Input & Share Section */
        .interactive-section {
            display: flex;
            flex-direction: column;
            gap: 10px;
            width: 80%;
            max-width: 400px;
            margin-top: 15px;
        }

        .input-field {
            width: 100%;
            padding: 12px;
            background-color: rgba(0, 0, 0, 0.4);
            border: 1px solid var(--neon-cyan);
            border-radius: 8px;
            color: white;
            font-size: 1rem;
            transition: box-shadow 0.3s;
        }
        
        .input-field::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .input-field:focus {
            outline: none;
            box-shadow: 0 0 10px var(--neon-cyan);
        }

        #message-input {
            resize: none;
            height: 60px;
        }

        #share-button {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 12px 20px;
            background-color: var(--whatsapp-green);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        #share-button:hover {
            box-shadow: 0 0 15px var(--whatsapp-green), 0 0 25px #fff;
            transform: scale(1.05);
        }

        /* --- Canvas for Animations --- */
        #celebration-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 5; /* Behind content, above background */
            pointer-events: none; /* Allows clicking through */
        }


        /* --- Keyframe Animations --- */
        @keyframes rainbowGradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        @keyframes zoomInOut {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        @keyframes discoLights {
            0% { background-position: 0% 50%; }
            100% { background-position: 200% 50%; }
        }

        @keyframes blinkLight {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }
        
        @keyframes glowRotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.03); }
        }
        
        @keyframes gradientShadow {
            0% { box-shadow: 0 5px 25px -5px rgba(255, 0, 255, 0.5); }
            25% { box-shadow: 0 5px 25px -5px rgba(0, 255, 255, 0.5); }
            50% { box-shadow: 0 5px 25px -5px rgba(255, 215, 0, 0.5); }
            75% { box-shadow: 0 5px 25px -5px rgba(0, 255, 0, 0.5); }
            100% { box-shadow: 0 5px 25px -5px rgba(255, 0, 255, 0.5); }
        }

        @keyframes colorChangeGlow {
            0% { color: var(--neon-magenta); text-shadow: 0 0 10px var(--neon-magenta); }
            33% { color: var(--neon-cyan); text-shadow: 0 0 10px var(--neon-cyan); }
            66% { color: var(--neon-gold); text-shadow: 0 0 10px var(--neon-gold); }
            100% { color: var(--neon-magenta); text-shadow: 0 0 10px var(--neon-magenta); }
        }

    </style>
</head>
<body>

    <!-- Landing Screen -->
    <div id="landing-screen" class="screen">
        <h1>Special Raksha Bandhan message waiting for you</h1>
        <button id="reveal-button">Click to Reveal</button>
    </div>

    <!-- Main Celebration Screen -->
    <div id="main-screen" class="screen">
        
        <div class="festive-header">
            <h1 id="main-title">Happy Raksha Bandhan</h1>
        </div>

        <img id="rakhi-image" src="rakhi.gif" alt="Animated Rakhi">
        
        <div class="greeting-container">
            <p id="greeting-message"><span id="name-display">Someone</span> sent you a message: <span id="message-display">Happy Raksha Bandhan!</span></p>
        </div>

        <div class="interactive-section">
            <input type="text" id="name-input" class="input-field" placeholder="Enter your name">
            <textarea id="message-input" class="input-field" placeholder="Type your message"></textarea>
            <button id="share-button">
                 <svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 448 512" fill="white"><path d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.8 0-67.6-9.5-97.2-26.7l-7.1-4.2-72.2 18.9L46.8 351.2l-4.5-7.3c-18.9-30.1-29.6-65.7-29.6-102.1 0-110.2 89.9-200 200.2-200 55.1 0 105.9 21.5 143.4 58.9 37.5 37.5 58.9 88.3 58.9 143.4-.1 110.2-89.9 200-200.1 200zm107.7-164.5c-3.3-1.7-19.8-9.8-23-11s-5.5-1.7-7.8 1.7c-2.3 3.3-8.7 11-10.7 13.3s-4.1 2.5-7.8 1s-15.4-5.7-29.2-18s-22.3-29.9-24.9-34.9c-2.6-5- .3-7.6 1.5-10.1s3.3-4.1 5-6.8c1.7-2.7 2.2-4.5 3.3-7.5s.6-5.7 0-7.5c-.6-1.7-7.8-18.8-10.7-25.7s-5.8-5.9-7.8-5.9c-2.1 0-4.5 0-6.8 0s-5.8.8-8.9 4.1c-3.1 3.3-11.8 11.6-11.8 28.2s12.1 32.8 13.8 35.1c1.7 2.3 23.8 36.3 57.8 50.7 8.3 3.6 14.9 5.8 20.1 7.5 9.8 3.1 18.9 2.7 26.2 1.6 8.2-1.1 19.8-8.1 22.6-15.9 2.8-7.8 2.8-14.5 2-15.9s-3.3-2.5-6.8-4.2z"/></svg>
                Share on WhatsApp
            </button>
        </div>
    </div>
    
    <!-- Animated Background Canvas -->
    <canvas id="celebration-canvas"></canvas>


    <script>
        // --- DOM Element Selection ---
        const landingScreen = document.getElementById('landing-screen');
        const mainScreen = document.getElementById('main-screen');
        const revealButton = document.getElementById('reveal-button');
        
        const nameInput = document.getElementById('name-input');
        const messageInput = document.getElementById('message-input');
        const nameDisplay = document.getElementById('name-display');
        const messageDisplay = document.getElementById('message-display');
        const shareButton = document.getElementById('share-button');

        // --- Core Logic ---

        // Function to parse URL parameters
        const getUrlParams = () => {
            const params = new URLSearchParams(window.location.search);
            return {
                name: params.get('name'),
                msg: params.get('msg')
            };
        };

        // Function to update the greeting message on the page
        const updateGreeting = (name, message) => {
            nameDisplay.textContent = name || 'Someone';
            messageDisplay.textContent = message || 'Happy Raksha Bandhan!';
            nameInput.value = name || '';
            messageInput.value = message || '';
        };

        // Initial setup on page load
        const initializePage = () => {
            const params = getUrlParams();
            const initialName = params.name || 'Someone';
            const initialMessage = params.msg || 'Happy Raksha Bandhan!';
            updateGreeting(initialName, initialMessage);
        };

        // Reveal the main screen on button click
        revealButton.addEventListener('click', () => {
            landingScreen.classList.add('hidden');
            mainScreen.style.visibility = 'visible';
            mainScreen.style.opacity = 1;
            // Start animations once revealed
            startCelebrationAnimations();
        });

        // Update greeting in real-time as user types
        nameInput.addEventListener('input', () => {
            nameDisplay.textContent = nameInput.value.trim() || 'Someone';
        });

        messageInput.addEventListener('input', () => {
            messageDisplay.textContent = messageInput.value.trim() || 'Happy Raksha Bandhan!';
        });

        // Handle the WhatsApp share functionality
        shareButton.addEventListener('click', () => {
            const name = nameInput.value.trim() || 'A Friend';
            const message = messageInput.value.trim() || 'Happy Raksha Bandhan!';
            
            // Create a link back to this page with the parameters
            const pageUrl = `${window.location.origin}${window.location.pathname}?name=${encodeURIComponent(name)}&msg=${encodeURIComponent(message)}`;
            
            // Create the WhatsApp message
            const whatsappMessage = `*You have a special Raksha Bandhan message!* 💌\n\nClick the link to see it:\n${pageUrl}`;
            
            // Create the WhatsApp share link
            const whatsappUrl = `https://api.whatsapp.com/send?text=${encodeURIComponent(whatsappMessage)}`;
            
            // Open the link in a new tab
            window.open(whatsappUrl, '_blank');
        });

        // --- Canvas Animation Logic ---
        const canvas = document.getElementById('celebration-canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        let particles = [];
        const flowers = ['🌸', '💖', '🥰', '🏵️', '🌼', '💮', '🌷', '🌟', '🌈'];
        const neonColors = ['#ff00ff', '#00ffff', '#ffd700', '#00ff00', '#ff5e00'];
        
        // Particle base class
        class Particle {
            constructor(x, y, size, color, speedX, speedY) {
                this.x = x;
                this.y = y;
                this.size = size;
                this.color = color;
                this.speedX = speedX;
                this.speedY = speedY;
                this.opacity = 1;
                this.rotation = Math.random() * 360;
            }

            update() {
                this.x += this.speedX;
                this.y += this.speedY;
                this.opacity -= 0.01;
                this.rotation += this.speedX;
            }

            draw() { // This will be overridden
            }
        }

        class Flower extends Particle {
            constructor() {
                super(
                    Math.random() * canvas.width, -20, // start from top
                    Math.random() * 20 + 20, // size
                    flowers[Math.floor(Math.random() * flowers.length)], // emoji as 'color'
                    Math.random() - 0.5, // speedX (for sway)
                    Math.random() * 1 + 0.5 // speedY
                );
            }

            draw() {
                ctx.save();
                ctx.globalAlpha = this.opacity;
                ctx.font = `${this.size}px Arial`;
                ctx.translate(this.x, this.y);
                ctx.rotate(this.rotation * Math.PI / 180);
                ctx.fillText(this.color, 0, 0);
                ctx.restore();
            }
        }

        class Balloon extends Particle {
             constructor() {
                super(
                    Math.random() * canvas.width, canvas.height + 50, // Start from bottom
                    Math.random() * 30 + 20, // size
                    neonColors[Math.floor(Math.random() * neonColors.length)], // color
                    0, // speedX
                    -(Math.random() * 1 + 0.5) // speedY (move up)
                );
                this.sway = Math.random() * 2 - 1;
            }
            
            update() {
                super.update();
                this.x += Math.sin(this.y * 0.01) * this.sway;
            }

            draw() {
                ctx.save();
                ctx.beginPath();
                ctx.fillStyle = this.color;
                ctx.globalAlpha = 0.6;
                ctx.shadowColor = this.color;
                ctx.shadowBlur = 20;
                ctx.ellipse(this.x, this.y, this.size * 0.7, this.size, 0, 0, 2 * Math.PI);
                ctx.fill();
                ctx.restore();
            }
        }

        class Sparkle extends Particle {
            constructor() {
                 super(
                    Math.random() * canvas.width, Math.random() * canvas.height,
                    Math.random() * 2 + 1,
                    '#ffffff',
                    0, 0
                 );
                 this.life = Math.random() * 50 + 50; // frames to live
            }

            update() {
                this.life--;
                this.opacity = this.life / 100;
            }

            draw() {
                ctx.save();
                ctx.fillStyle = this.color;
                ctx.shadowColor = '#ffffff';
                ctx.shadowBlur = 10;
                ctx.globalAlpha = this.opacity;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
                ctx.restore();
            }
        }

        function createParticles() {
            // Add a flower (reduced density)
            if(Math.random() < 0.25) particles.push(new Flower());
            // Add a balloon
            if(Math.random() < 0.1) particles.push(new Balloon());
            // Add a sparkle
            if(Math.random() < 0.5) particles.push(new Sparkle());
        }

        let animationFrameId;
        function animate() {
            // Fading effect for trails
            ctx.fillStyle = 'rgba(13, 0, 26, 0.2)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            createParticles();

            particles = particles.filter(p => p.opacity > 0 && p.life !== 0);
            
            particles.forEach(p => {
                p.update();
                p.draw();
            });

            animationFrameId = requestAnimationFrame(animate);
        }

        function startCelebrationAnimations() {
            if (!animationFrameId) {
                animate();
            }
        }

        // Adjust canvas on window resize
        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });

        // --- Start the application ---
        initializePage();

    </script>
</body>
</html>```
